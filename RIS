<!doctype html>
<html lang="sl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>XML / REST / JSON Kviz</title>
<style>
body { font-family: system-ui; background:#0f172a; color:white; margin:0; }
.wrap { max-width:900px; margin:auto; padding:30px; }
.card { background:#1e293b; padding:25px; border-radius:12px; }
button { padding:10px 18px; margin-top:15px; border-radius:8px; border:none; cursor:pointer; }
.primary { background:#3b82f6; color:white; }
.secondary { background:#475569; color:white; }
.result { background:#111827; padding:20px; border-radius:10px; margin-top:20px; }
.option { margin:8px 0; }
</style>
</head>
<body>
<div class="wrap">
<div class="card" id="quiz"></div>
</div>

<script>
const questions = [
/* BOOLEAN PRIMER */
{
type:"boolean",
question:"Vrednost atributa XML elementa mora biti zapisana v narekovajih.",
answer:true
},
{
type:"boolean",
question:"SOAP pomeni RESTful Transfer.",
answer:false
},

/* MULTI PRIMER */
{
type:"multi",
question:"Kateri so standardi za zapis XML besednjakov?",
options:["DTD","XML Schema","JSON","XSLT"],
answer:[0,1]
},
{
type:"multi",
question:"Katere so značilnosti HTTP metode GET?",
options:[
"Zahteva ne rabi imeti telesa",
"Zahteva mora imeti telo",
"Se ne more uporabljati za prenos večje količine podatkov",
"Preneseni podatki so vidni v dnevniku spletnega strežnika"
],
answer:[0,2,3]
},

/* DODAJ VSA OSTALA VPRAŠANJA ENAKO KOT ZGORAJ */
];

let current = 0;
let score = 0;
let wrong = [];

function renderQuestion(){
const q = questions[current];
const div = document.getElementById("quiz");
div.innerHTML = `<h2>Vprašanje ${current+1} / ${questions.length}</h2>
<p>${q.question}</p>`;

if(q.type==="boolean"){
div.innerHTML += `
<div class="option"><input type="radio" name="ans" value="true"> DA</div>
<div class="option"><input type="radio" name="ans" value="false"> NE</div>`;
}
else if(q.type==="multi"){
q.options.forEach((opt,i)=>{
div.innerHTML += `<div class="option">
<input type="checkbox" value="${i}"> ${opt}
</div>`;
});
}

div.innerHTML += `<button class="primary" onclick="nextQuestion()">Naprej</button>`;
}

function nextQuestion(){
const q = questions[current];
let correct = false;

if(q.type==="boolean"){
const selected = document.querySelector('input[name="ans"]:checked');
if(selected && (selected.value==="true")===q.answer){
correct=true;
}
}
else{
const checked = [...document.querySelectorAll('input[type="checkbox"]:checked')]
.map(c=>parseInt(c.value)).sort();
const correctAns = q.answer.slice().sort();
if(JSON.stringify(checked)===JSON.stringify(correctAns)){
correct=true;
}
}

if(correct) score++;
else wrong.push(q);

current++;

if(current<questions.length){
renderQuestion();
}
else showResult();
}

function showResult(){
const div = document.getElementById("quiz");
div.innerHTML = `<h2>Konec kviza</h2>
<p>Rezultat: ${score} / ${questions.length}</p>`;

if(wrong.length>0){
div.innerHTML += `<div class="result"><h3>Napačna vprašanja:</h3>`;
wrong.forEach(w=>{
div.innerHTML += `<p><b>${w.question}</b><br>
Pravilni odgovor: ${
w.type==="boolean"
? (w.answer ? "DA":"NE")
: w.answer.map(i=>w.options[i]).join(", ")
}</p><hr>`;
});
div.innerHTML += `</div>`;
}
}

renderQuestion();
</script>
</body>
</html>
